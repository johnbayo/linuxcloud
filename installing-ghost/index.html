<!DOCTYPE html>
<html lang="en">
<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>Installing and Configuring Ghost with mysql and nginx</title>
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" type="text/css" href="../assets/built/screen.css">

    <link rel="shortcut icon" href="../favicon.ico" type="image/x-icon">
    <link rel="canonical" href="http://localhost:8080/installing-ghost/">
    <meta name="referrer" content="no-referrer-when-downgrade">
    <link rel="amphtml" href="http://localhost:8080/installing-ghost/amp/">
    
    <meta property="og:site_name" content="linuxcloud.ng">
    <meta property="og:type" content="article">
    <meta property="og:title" content="Installing and Configuring Ghost with mysql and nginx">
    <meta property="og:description" content="What is Ghost  Ghost is an opensource headless Node.js content management system. This post describes how to deploy ghost with mysql. for the mysql installation, please check the link below.  https://linuxcloud.ng/installing-mysql-5-7-on-centos-7/  apt-get update -y Install node repo  we need to install the node repo, as this">
    <meta property="og:url" content="http://localhost:8080/installing-ghost/">
    <meta property="article:published_time" content="2019-08-03T09:47:53.000Z">
    <meta property="article:modified_time" content="2020-01-03T08:52:46.000Z">
    <meta property="article:tag" content="General">
    <meta property="article:tag" content="Howto">
    <meta property="article:tag" content="Linux">
    
    <meta property="article:publisher" content="https://www.facebook.com/linuxcloudng">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Installing and Configuring Ghost with mysql and nginx">
    <meta name="twitter:description" content="What is Ghost  Ghost is an opensource headless Node.js content management system. This post describes how to deploy ghost with mysql. for the mysql installation, please check the link below.  https://linuxcloud.ng/installing-mysql-5-7-on-centos-7/  apt-get update -y Install node repo  we need to install the node repo, as this">
    <meta name="twitter:url" content="http://localhost:8080/installing-ghost/">
    <meta name="twitter:label1" content="Written by">
    <meta name="twitter:data1" content="John Adebayo">
    <meta name="twitter:label2" content="Filed under">
    <meta name="twitter:data2" content="General, Howto, Linux">
    <meta name="twitter:site" content="@linuxcloudng">
    
    <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Article",
    "publisher": {
        "@type": "Organization",
        "name": "linuxcloud.ng",
        "logo": {
            "@type": "ImageObject",
            "url": "http://localhost:8080/favicon.ico",
            "width": 48,
            "height": 48
        }
    },
    "author": {
        "@type": "Person",
        "name": "John Adebayo",
        "url": "http://localhost:8080/author/adebayo/",
        "sameAs": []
    },
    "headline": "Installing and Configuring Ghost with mysql and nginx",
    "url": "http://localhost:8080/installing-ghost/",
    "datePublished": "2019-08-03T09:47:53.000Z",
    "dateModified": "2020-01-03T08:52:46.000Z",
    "keywords": "General, Howto, Linux",
    "description": "What is Ghost\nGhost is an opensource headless Node.js content management system. This post\ndescribes how to deploy ghost with mysql. for the mysql installation, please\ncheck the link below.\n\nhttps://linuxcloud.ng/installing-mysql-5-7-on-centos-7/\n\napt-get update -y\n\n\nInstall node repo\nwe need to install the node repo, as this is necessary to install nodejs\n\ncurl -sL https://deb.nodesource.com/setup_10.x | bash -\napt-get install -y nodejs\n#check version\nnpm -v\n3.10.10\nnode -v\nv6.14.3\n\n\nAdd ghost ",
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "http://localhost:8080/"
    }
}
    </script>

    <meta name="generator" content="Ghost 3.2">
    <link rel="alternate" type="application/rss+xml" title="linuxcloud.ng" href="http://localhost:8080/rss/">
    <!-- Fix first paragraph font size -->
<style type="text/css">
 .post-template .kg-card-markdown > p:first-child {font-size: 0.8em;}
 .post-full-content pre {
    font-size: 1.4rem;
}
</style>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-146783831-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-146783831-1');
</script>

<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>


    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script>
  (adsbygoogle = window.adsbygoogle || []).push({
    google_ad_client: "ca-pub-6562536909161389",
    enable_page_level_ads: true
  });
</script>

</head>
<body class="post-template tag-general tag-howto tag-linux">

    <div class="site-wrapper">

        

<header class="site-header">
    <div class="outer site-nav-main">
    <div class="inner">
        <nav class="site-nav">
    <div class="site-nav-left-wrapper">
        <div class="site-nav-left">
                <a class="site-nav-logo" href="../">linuxcloud.ng</a>
            <div class="site-nav-content">
                    <ul class="nav" role="menu">
    <li class="nav-home" role="menuitem"><a href="http://upbeat-nobel-e06a27.netlify.app/">Home</a></li>
    <li class="nav-general" role="menuitem"><a href="http://upbeat-nobel-e06a27.netlify.app/tag/general/">General</a></li>
    <li class="nav-linux" role="menuitem"><a href="http://upbeat-nobel-e06a27.netlify.app/tag/linux/">Linux</a></li>
    <li class="nav-aws" role="menuitem"><a href="http://upbeat-nobel-e06a27.netlify.app/tag/aws/">AWS</a></li>
    <li class="nav-azure" role="menuitem"><a href="http://upbeat-nobel-e06a27.netlify.app/tag/azure/">Azure</a></li>
    <li class="nav-database" role="menuitem"><a href="http://upbeat-nobel-e06a27.netlify.app/tag/database/">Database</a></li>
    <li class="nav-howto" role="menuitem"><a href="http://upbeat-nobel-e06a27.netlify.app/tag/howto/">Howto</a></li>
</ul>

                    <span class="nav-post-title dash">Installing and Configuring Ghost with mysql and nginx</span>
            </div>
        </div>
    </div>
    <div class="site-nav-right">
            <div class="social-links">
                    <a class="social-link social-link-fb" href="https://www.facebook.com/linuxcloudng" title="Facebook" target="_blank" rel="noopener"><svg viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg"><path d="M16 0c8.837 0 16 7.163 16 16s-7.163 16-16 16S0 24.837 0 16 7.163 0 16 0zm5.204 4.911h-3.546c-2.103 0-4.443.885-4.443 3.934.01 1.062 0 2.08 0 3.225h-2.433v3.872h2.509v11.147h4.61v-11.22h3.042l.275-3.81h-3.397s.007-1.695 0-2.187c0-1.205 1.253-1.136 1.329-1.136h2.054V4.911z"/></svg></a>
                    <a class="social-link social-link-tw" href="https://twitter.com/linuxcloudng" title="Twitter" target="_blank" rel="noopener"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M30.063 7.313c-.813 1.125-1.75 2.125-2.875 2.938v.75c0 1.563-.188 3.125-.688 4.625a15.088 15.088 0 0 1-2.063 4.438c-.875 1.438-2 2.688-3.25 3.813a15.015 15.015 0 0 1-4.625 2.563c-1.813.688-3.75 1-5.75 1-3.25 0-6.188-.875-8.875-2.625.438.063.875.125 1.375.125 2.688 0 5.063-.875 7.188-2.5-1.25 0-2.375-.375-3.375-1.125s-1.688-1.688-2.063-2.875c.438.063.813.125 1.125.125.5 0 1-.063 1.5-.25-1.313-.25-2.438-.938-3.313-1.938a5.673 5.673 0 0 1-1.313-3.688v-.063c.813.438 1.688.688 2.625.688a5.228 5.228 0 0 1-1.875-2c-.5-.875-.688-1.813-.688-2.75 0-1.063.25-2.063.75-2.938 1.438 1.75 3.188 3.188 5.25 4.25s4.313 1.688 6.688 1.813a5.579 5.579 0 0 1 1.5-5.438c1.125-1.125 2.5-1.688 4.125-1.688s3.063.625 4.188 1.813a11.48 11.48 0 0 0 3.688-1.375c-.438 1.375-1.313 2.438-2.563 3.188 1.125-.125 2.188-.438 3.313-.875z"/></svg>
</a>
            </div>
                <a class="rss-button" href="https://feedly.com/i/subscription/feed/http://localhost:8080/rss/" title="RSS" target="_blank" rel="noopener"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><circle cx="6.18" cy="17.82" r="2.18"/><path d="M4 4.44v2.83c7.03 0 12.73 5.7 12.73 12.73h2.83c0-8.59-6.97-15.56-15.56-15.56zm0 5.66v2.83c3.9 0 7.07 3.17 7.07 7.07h2.83c0-5.47-4.43-9.9-9.9-9.9z"/></svg>
</a>

    </div>
</nav>
    </div>
</div></header>


<main id="site-main" class="site-main outer">
    <div class="inner">

        <article class="post-full post tag-general tag-howto tag-linux no-image no-image">

            <header class="post-full-header">

                <section class="post-full-tags">
                    <a href="../tag/general/">General</a>
                </section>

                <h1 class="post-full-title">Installing and Configuring Ghost with mysql and nginx</h1>


                <div class="post-full-byline">

                    <section class="post-full-byline-content">

                        <ul class="author-list">
                            <li class="author-list-item">

                                <div class="author-card">
                                    <div class="author-profile-image"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M3.513 18.998C4.749 15.504 8.082 13 12 13s7.251 2.504 8.487 5.998C18.47 21.442 15.417 23 12 23s-6.47-1.558-8.487-4.002zM12 12c2.21 0 4-2.79 4-5s-1.79-4-4-4-4 1.79-4 4 1.79 5 4 5z" fill="#FFF"/></g></svg>
</div>
                                    <div class="author-info">
                                        <h2>John Adebayo</h2>
                                        <p>Read <a href="../author/adebayo/">more posts</a> by this author.</p>
                                    </div>
                                </div>

                                <a href="../author/adebayo/" class="author-avatar author-profile-image"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M3.513 18.998C4.749 15.504 8.082 13 12 13s7.251 2.504 8.487 5.998C18.47 21.442 15.417 23 12 23s-6.47-1.558-8.487-4.002zM12 12c2.21 0 4-2.79 4-5s-1.79-4-4-4-4 1.79-4 4 1.79 5 4 5z" fill="#FFF"/></g></svg>
</a>

                            </li>
                        </ul>

                        <section class="post-full-byline-meta">
                            <h4 class="author-name"><a href="../author/adebayo/">John Adebayo</a></h4>
                            <div class="byline-meta-content">
                                <time class="byline-meta-date" datetime="2019-08-03">3 Aug 2019</time>
                                <span class="byline-reading-time"><span class="bull">&bull;</span> 1 min read</span>
                            </div>
                        </section>

                    </section>


                </div>
            </header>


            <section class="post-full-content">
                <div class="post-content">
                    <!--kg-card-begin: markdown--><p><em><strong>What is Ghost</strong></em><br>
Ghost is an opensource headless Node.js content management system. This post describes how to deploy ghost with mysql. for the mysql installation, please check the link below.</p>
<p><a href="https://linuxcloud.ng/installing-mysql-5-7-on-centos-7/">https://linuxcloud.ng/installing-mysql-5-7-on-centos-7/</a></p>
<pre><code>apt-get update -y
</code></pre>
<p><em><strong>Install node repo</strong></em><br>
we need to install the node repo, as this is necessary to install nodejs</p>
<pre><code>curl -sL https://deb.nodesource.com/setup_10.x | bash -
apt-get install -y nodejs
#check version
npm -v
3.10.10
node -v
v6.14.3
</code></pre>
<p><em><strong>Add ghost application user</strong></em><br>
In this post we defined the user as test. we will create a new user &quot;test&quot; has shown below and switch users to test for ghost installation.</p>
<pre><code>adduser test
usermod -aG sudo test
su - test
</code></pre>
<p><em><strong>Create the directory for Ghost</strong></em></p>
<pre><code>mkdir -p /var/www/ghost
chown test. /var/www/ghost
chmod 775 /var/www/ghost
</code></pre>
<p><em><strong>Installation of Ghost-cli and Ghost</strong></em></p>
<pre><code>npm i -g ghost-cli@latest
cd /var/www/ghost/
ghost install
</code></pre>
<p><em><strong>Nginx Configuration for Ghost</strong></em><br>
we would like to install letsencrypt certificate for our blog, and configure the reverse proxy for ghost. we use nginx as a webserver for ghost installation, this is shown in the steps below</p>
<pre><code>server {
    listen 80;
    server_name linuxcloud.ng www.linuxcloud.ng;
    access_log /var/log/nginx/linuxcloud.log;
    error_log /var/log/nginx/linuxerror.log;

    root /usr/share/nginx/html;
    index index.html index.htm;

    client_max_body_size 10G;

    location / {
        proxy_pass http://localhost:2369;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header Host $http_host;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_redirect off;
    }

    location ~ ^/.well-known {
        root /var/www/linuxworld;
    }
}
</code></pre>
<p><em><strong>Letsencrypt setup</strong></em><br>
This is also done with the steps below</p>
<pre><code>certbot --webroot certonly -w /var/www/linuxcloud -d linuxcloud.ng -d www.linuxcloud.ng
</code></pre>
<p><em><strong>ssl Configuration in our Custom Nginx configuration</strong></em></p>
<pre><code>upstream linuxcloud {
    server localhost:2369;
}

server {
    listen 80;

    server_name www.linuxcloud.ng linuxcloud.ng;

    rewrite ^ https://$http_host$request_uri? permanent;
}

server {

    listen 443 ssl;
    ssl_certificate /etc/letsencrypt/live/linuxcloud.ng/fullchain.pem;
    ssl_certificate_key /etc/letsencrypt/live/linuxcloud.ng/privkey.pem;

    server_name www.linuxcloud.ng linuxcloud.ng;


    root /usr/share/nginx/html;
    index index.html index.htm;

    client_max_body_size 10G;

    location / {
        proxy_pass http://localhost:2369;
        proxy_redirect off;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header Host $http_host;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_buffering off;
    }

    location ~ ^/.well-known {
        root /var/www/linuxworld;
 }

    fastcgi_param HTTPS on;
    fastcgi_param HTTP_SCHEME https;

}
</code></pre>
<p>The website is now reachable on linuxcloud.ng as long as the domain records are already passed.</p>
<!--kg-card-end: markdown-->
                </div>
            </section>



        </article>

    </div>
</main>

<aside class="read-next outer">
    <div class="inner">
        <div class="read-next-feed">
                <article class="read-next-card">
                    <header class="read-next-card-header">
                        <h3><span>More in</span> <a href="../tag/general/">General</a></h3>
                    </header>
                    <div class="read-next-card-content">
                        <ul>
                            <li>
                                <h4><a href="../encode-and-decode-base64-bash/">encode and decode base64 Bash</a></h4>
                                <div class="read-next-card-meta">
                                    <p><time datetime="2019-12-19">19 Dec 2019</time> –
                                        1 min read</p>
                                </div>
                            </li>
                            <li>
                                <h4><a href="../deploying-consul-and-vault-as-ha-in-kubernetes-part-1/">Deploying Consul and Vault as HA in Kubernetes (Part 2)</a></h4>
                                <div class="read-next-card-meta">
                                    <p><time datetime="2019-11-29">29 Nov 2019</time> –
                                        5 min read</p>
                                </div>
                            </li>
                            <li>
                                <h4><a href="../upgrading-terraform-from-version-0-11-to-0-12-12/">Upgrading Terraform from version 0.11.x to 0.12.12 with both a local State File or Remote State</a></h4>
                                <div class="read-next-card-meta">
                                    <p><time datetime="2019-10-23">23 Oct 2019</time> –
                                        2 min read</p>
                                </div>
                            </li>
                        </ul>
                    </div>
                    <footer class="read-next-card-footer">
                        <a href="../tag/general/">See all 22 posts
                            →</a>
                    </footer>
                </article>

                <article class="post-card post tag-howto tag-linux tag-general no-image no-image">


    <div class="post-card-content">

        <a class="post-card-content-link" href="../working-with-screen/">

            <header class="post-card-header">
                    <div class="post-card-primary-tag">Howto</div>
                <h2 class="post-card-title">Working with Screen</h2>
            </header>

            <section class="post-card-excerpt">
                    <p>Screen is a program in línux, users can use to multiplex a physical console within a multiple interactive shells. It is very easy to use and can be started by simple typing  screen To view if a screen is attached or detached.  screen -ls</p>
            </section>

        </a>

        <footer class="post-card-meta">
            <ul class="author-list">
                <li class="author-list-item">
            
                    <div class="author-name-tooltip">
                        John Adebayo
                    </div>
            
                    <a href="../author/adebayo/" class="static-avatar author-profile-image"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M3.513 18.998C4.749 15.504 8.082 13 12 13s7.251 2.504 8.487 5.998C18.47 21.442 15.417 23 12 23s-6.47-1.558-8.487-4.002zM12 12c2.21 0 4-2.79 4-5s-1.79-4-4-4-4 1.79-4 4 1.79 5 4 5z" fill="#FFF"/></g></svg>
</a>
                </li>
            </ul>
            <div class="post-card-byline-content">
                <span><a href="../author/adebayo/">John Adebayo</a></span>
                <span class="post-card-byline-date"><time datetime="2019-09-16">16 Sep 2019</time> <span class="bull">&bull;</span> 1 min read</span>
            </div>
        </footer>

    </div>

</article>

                <article class="post-card post tag-general tag-howto tag-linux no-image no-image">


    <div class="post-card-content">

        <a class="post-card-content-link" href="../vault-authentication-methods/">

            <header class="post-card-header">
                    <div class="post-card-primary-tag">General</div>
                <h2 class="post-card-title">Vault Authentication Methods</h2>
            </header>

            <section class="post-card-excerpt">
                    <p>We can authenticate into vault via several methods, here is a few syntax that can be used to manage vault authentication  List Enabled Authentication Methods  To list all authentication methods enabled, this can be done with the command below  vault auth list Enabling an</p>
            </section>

        </a>

        <footer class="post-card-meta">
            <ul class="author-list">
                <li class="author-list-item">
            
                    <div class="author-name-tooltip">
                        John Adebayo
                    </div>
            
                    <a href="../author/adebayo/" class="static-avatar author-profile-image"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M3.513 18.998C4.749 15.504 8.082 13 12 13s7.251 2.504 8.487 5.998C18.47 21.442 15.417 23 12 23s-6.47-1.558-8.487-4.002zM12 12c2.21 0 4-2.79 4-5s-1.79-4-4-4-4 1.79-4 4 1.79 5 4 5z" fill="#FFF"/></g></svg>
</a>
                </li>
            </ul>
            <div class="post-card-byline-content">
                <span><a href="../author/adebayo/">John Adebayo</a></span>
                <span class="post-card-byline-date"><time datetime="2019-07-05">5 Jul 2019</time> <span class="bull">&bull;</span> 1 min read</span>
            </div>
        </footer>

    </div>

</article>
        </div>
    </div>
</aside>




        <footer class="site-footer outer">
            <div class="site-footer-content inner">
                <section class="copyright"><a href="../">linuxcloud.ng</a> &copy; 2020</section>
                <nav class="site-footer-nav">
                    <a href="../">Latest Posts</a>
                    <a href="https://www.facebook.com/linuxcloudng" target="_blank" rel="noopener">Facebook</a>
                    <a href="https://twitter.com/linuxcloudng" target="_blank" rel="noopener">Twitter</a>
                    <a href="https://ghost.org" target="_blank" rel="noopener">Ghost</a>
                </nav>
            </div>
        </footer>

    </div>


    <script src="https://code.jquery.com/jquery-3.4.1.min.js" crossorigin="anonymous">
    </script>
    <script src="../assets/built/casper.js"></script>

    <script>
        // Parse the URL parameter
        function getParameterByName(name, url) {
            if (!url) url = window.location.href;
            name = name.replace(/[\[\]]/g, "\\$&");
            var regex = new RegExp("[?&]" + name + "(=([^&#]*)|&|#|$)"),
                results = regex.exec(url);
            if (!results) return null;
            if (!results[2]) return '';
            return decodeURIComponent(results[2].replace(/\+/g, " "));
        }

        // Give the parameter a variable name
        var action = getParameterByName('action');

        $(document).ready(function () {
            if (action == 'subscribe') {
                $('body').addClass("subscribe-success");
            }

            $('.subscribe-success-message .subscribe-close').click(function () {
                $('.subscribe-success-message').addClass('close');
            });

            // Reset form on opening subscrion overlay
            $('.subscribe-button').click(function() {
                $('.subscribe-overlay form').removeClass();
                $('.subscribe-email').val('');
            });
        });
    </script>

    <script>
    $(document).ready(function () {
        // FitVids - start
        var $postContent = $(".post-full-content");
        $postContent.fitVids();
        // FitVids - end

        // Replace nav with title on scroll - start
        Casper.stickyNavTitle({
            navSelector: '.site-nav-main',
            titleSelector: '.post-full-title',
            activeClass: 'nav-post-title-active'
        });
        // Replace nav with title on scroll - end

        // Hover on avatar
        var hoverTimeout;
        $('.author-list-item').hover(function () {
            var $this = $(this);

            clearTimeout(hoverTimeout);

            $('.author-card').removeClass('hovered');
            $(this).children('.author-card').addClass('hovered');

        }, function () {
            var $this = $(this);

            hoverTimeout = setTimeout(function () {
                $this.children('.author-card').removeClass('hovered');
            }, 800);
        });
    });
</script>


    <script id="dsq-count-scr" src="//linucloud-ng.disqus.com/count.js" async></script>

#<script data-ad-client="ca-pub-6562536909161389" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

</body>
</html>
